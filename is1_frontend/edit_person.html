<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Edit Person</title>
    <link rel="stylesheet" href="css/edit_person.css">
</head>
<body>
<div id="edit-person-container">
    <h2>Edit Person</h2>
    <form id="edit-person-form">
        <label for="id">ID:</label>
        <input type="number" id="id" name="id" required readonly>

        <label for="name">Name:</label>
        <input type="text" id="name" name="name">

        <label>Coordinates (X, Y):</label>
        <div style="display: flex; gap: 10px; flex-direction: row;">
            <input type="number" id="coordinateID" name="coordinateID" placeholder="ID" style="width: 33%;">
            <input type="number" id="coordinateX" name="coordinateX" placeholder="X" style="width: 33%;">
            <input type="number" id="coordinateY" name="coordinateY" placeholder="Y" style="width: 33%;">
        </div>

        <label for="eyeColor">Eye Color:</label>
        <select id="eyeColor" name="eyeColor">
            <option value="BLACK">Black</option>
            <option value="BLUE">Blue</option>
            <option value="ORANGE">Orange</option>
        </select>

        <label for="hairColor">Hair Color:</label>
        <select id="hairColor" name="hairColor">
            <option value="BLACK">Black</option>
            <option value="BLUE">Blue</option>
            <option value="ORANGE">Orange</option>
        </select>

        <label>Location (X, Y, Z):</label>
        <div style="display: flex; gap: 10px; flex-direction: row;">
            <input type="number" id="locationID" name="locationID" placeholder="ID" style="width: 25%;">
            <input type="number" id="locationX" name="locationX" placeholder="X" style="width: 25%;">
            <input type="number" id="locationY" name="locationY" placeholder="Y" style="width: 25%;">
            <input type="number" id="locationZ" name="locationZ" placeholder="Z" style="width: 25%;">
        </div>

        <label for="height">Height:</label>
        <input type="number" id="height" name="height" min="0">

        <label for="birthday">Birthday:</label>
        <input type="date" id="birthday" name="birthday">

        <label for="nationality">Nationality:</label>
        <select id="nationality" name="nationality">
            <option value="RUSSIA">Russia</option>
            <option value="GERMANY">Germany</option>
            <option value="FRANCE">France</option>
            <option value="ITALY">Italy</option>
        </select>

        <button type="submit">Update</button>
    </form>
</div>

<div id="tables-container">
    <h2>Coordinates</h2>
    <table id="coordinates-table">
        <thead>
        <tr>
            <th>ID</th>
            <th>X</th>
            <th>Y</th>
        </tr>
        </thead>
        <tbody>
        <!-- Coordinates rows here -->
        </tbody>
    </table>

    <h2>Locations</h2>
    <table id="locations-table">
        <thead>
        <tr>
            <th>ID</th>
            <th>X</th>
            <th>Y</th>
            <th>Z</th>
        </tr>
        </thead>
        <tbody>
        <!-- Locations rows here -->
        </tbody>
    </table>
</div>

<div id="notification" class="notification"></div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const person = JSON.parse(localStorage.getItem('editPerson'));
        if (person) {
            document.getElementById('id').value = person.id;
            document.getElementById('name').value = person.name;
            document.getElementById('coordinateX').value = person.coordinates.x;
            document.getElementById('coordinateY').value = person.coordinates.y;
            document.getElementById('eyeColor').value = person.eyeColor;
            document.getElementById('hairColor').value = person.hairColor;
            document.getElementById('locationX').value = person.location.x;
            document.getElementById('locationY').value = person.location.y;
            document.getElementById('locationZ').value = person.location.z;
            document.getElementById('height').value = person.height;
            document.getElementById('birthday').value = new Date(person.birthday).toISOString().split('T')[0];
            document.getElementById('nationality').value = person.nationality;
        }
    });
</script>

<script src="api.js"></script>
<script src="edit_person.js"></script>
</body>
</html>
